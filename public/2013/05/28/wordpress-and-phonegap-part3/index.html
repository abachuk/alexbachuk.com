<!DOCTYPE html>
<html lang="en-US">
<head>

    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    
        <meta name="twitter:card" content="summary"/>
    



<meta name="twitter:title" content="WordPress and Phonegap (part3)"/>
<meta name="twitter:description" content=""/>
<meta name="twitter:site" content="@netxm"/>



  	<meta property="og:title" content="WordPress and Phonegap (part3) &middot; Alex Bachuk" />
  	<meta property="og:site_name" content="Alex Bachuk" />
  	<meta property="og:url" content="https://alexbachuk.com/2013/05/28/wordpress-and-phonegap-part3/" />

    
        
            <meta property="og:image" content="/none"/>
        
    

    
    <meta property="og:description" content="" />
  	<meta property="og:type" content="article" />
    <meta property="article:published_time" content="2013-05-28T01:34:05Z" />

    
    <meta property="article:tag" content="ios" />
    
    <meta property="article:tag" content="jquery mobile" />
    
    <meta property="article:tag" content="Phonegap" />
    
    

    <title>WordPress and Phonegap (part3) &middot; Alex Bachuk</title>

    
    <meta name="description" content="In part 1 and 2 we learned how to prepare everything for our mobile app: get data from WordPress in JSON format and setup jQuery mobile and Phonegap boilerplate" />
    

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="shortcut icon" href="https://alexbachuk.com/images/favicon.ico">
	  <link rel="apple-touch-icon" href="https://alexbachuk.com/images/apple-touch-icon.png" />

    <link rel="stylesheet" type="text/css" href="https://alexbachuk.com/css/screen.css" />
    <link rel="stylesheet" type="text/css" href="https://alexbachuk.com/css/nav.css" />

    

    

    
        <link href="http://feeds.feedburner.com/..." rel="alternate" type="application/rss+xml" title="Alex Bachuk" />
    
    <meta name="generator" content="Hugo 0.23" />

    <link rel="canonical" href="https://alexbachuk.com/2013/05/28/wordpress-and-phonegap-part3/" />

    
      
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": ,
        "logo": https://alexbachuk.comimages/ab-logo.svg
    },
    "author": {
        "@type": "Person",
        "name": ,
        
        "image": {
            "@type": "ImageObject",
            "url": https://alexbachuk.comimages/ab-logo.svg,
            "width": 250,
            "height": 250
        }, 
        
        "url": https://alexbachuk.com,
        "sameAs": [
            
            
             
             
             
             
             
            
        ],
        "description": my bio
        
    },
    "headline": WordPress and Phonegap (part3),
    "name": WordPress and Phonegap (part3),
    "wordCount": 927,
    "timeRequired": "PT5M",
    "inLanguage": {
      "@type": "Language",
      "alternateName": en
    },
    "url": https://alexbachuk.com/2013/05/28/wordpress-and-phonegap-part3/,
    "datePublished": 2013-05-28T01:34Z,
    "dateModified": 2013-05-28T01:34Z,
    
    "keywords": ios, jquery mobile, Phonegap,
    "description": ,
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": https://alexbachuk.com/2013/05/28/wordpress-and-phonegap-part3/
    }
}
    </script>
    


    

    
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-23815614-1', 'auto');
      ga('send', 'pageview');

    </script>
    

    
</head>
<body class="nav-closed">

  <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
        
        
        
            <i class='fa fa-heart'></i>
            <li class="nav-opened" role="presentation">
            	<a href="https://alexbachuk.com/">blog</a>
            </li>
        
            <i class='fa fa-heart'></i>
            <li class="nav-opened" role="presentation">
            	<a href="https://alexbachuk.com/about/">about me</a>
            </li>
        
            <i class='fa fa-road'></i>
            <li class="nav-opened" role="presentation">
            	<a href="https://alexbachuk.com/books/">books</a>
            </li>
        
            <i class='fa fa-road'></i>
            <li class="nav-opened" role="presentation">
            	<a href="https://alexbachuk.com/work/">my work</a>
            </li>
        
            <i class='fa fa-road'></i>
            <li class="nav-opened" role="presentation">
            	<a href="https://alexbachuk.com/contact/">contact</a>
            </li>
        
        
    </ul>

    
    <a class="subscribe-button icon-feed" href="http://feeds.feedburner.com/...">Subscribe</a> </div>
    
</div>
<span class="nav-cover"></span>


 <div class="site-wrapper">




<header class="main-header post-head no-cover">
  <nav class="main-nav clearfix">


  
      <a class="blog-logo" href="https://alexbachuk.com"><img src="https://alexbachuk.com/images/ab-logo.svg" alt="Home" /></a>
  
  
      <a class="menu-button" href="#"><span class="burger">&#9776;</span><span class="word">Menu</span></a>
  
  </nav>
</header>



<main class="content" role="main">




  <article class="post post">

    <header class="post-header">
        <h1 class="post-title">WordPress and Phonegap (part3)</h1>
        <small></small>

        <section class="post-meta">
         
          <time class="post-date" datetime="2013-05-28T01:34:05Z">
            May 28, 2013
          </time>
        
         
          <span class="post-tag small"><a href="https://alexbachuk.comtags/ios/">#ios</a></span>
         
          <span class="post-tag small"><a href="https://alexbachuk.comtags/jquery-mobile/">#jquery mobile</a></span>
         
          <span class="post-tag small"><a href="https://alexbachuk.comtags/Phonegap/">#Phonegap</a></span>
         
        </section>
    </header>

    <section class="post-content">
      

<p>In <a href="http://alexbachuk.com/wordpress-and-phonegap-part-1/">part 1</a> and <a href="http://alexbachuk.com/wordpress-and-phonegap-part2/">2</a> we learned how to prepare everything for our mobile app: get data from WordPress in JSON format and setup jQuery mobile and Phonegap boilerplate. Now, it&rsquo;s time to get the mobile app actually do something, in this case I will build app fro my blog and portfolio to demonstrate how to work with different post types.</p>

<p>I will build iOS app, but the same technique applies to Android, Windows phone, Blackberry, etc. You don&rsquo;t need apple developer account to test your app on iOS simulator but if you want to run the app on physical iOS device then you need to enroll in <a href="https://developer.apple.com/programs/ios/">iOS developer program</a>, which is $99 a year.</p>

<p><img src="http://alexbachuk.com/wp-content/uploads/2013/05/ios-phonegap-wordpress-starting-screen.jpg" alt="ios-phonegap-wordpress-starting-screen" /> To get started we need phonegap project setup on your local computer with jQuery mobile. For this app I&rsquo;m using phonegap 2.7, iOS 6.1 simulator, Xcode 4.6.2 and jQuery mobile 1.3.1.</p>

<p>When I start my &ldquo;blank&rdquo; app by opening .xcodeproj file in newly created phonegap project directory - I see this screen. That means everything is set up correctly and the app has been compiled to native iOS code (or add native wrapper to be more specific). Sometimes you may encounter few problems and it&rsquo;s very important to set everything up the right way to avoid even more bugs down the road. If you see any error messages or your iOS screen looks different - make sure to checkout <a href="http://docs.phonegap.com/en/2.7.0/guide_getting-started_index.md.html#Getting%20Started%20Guides">getting started guides</a> and scroll down to &ldquo;Common problems&rdquo; section.</p>

<p>We&rsquo;re going to be working with www directory, which contains all the js, html, css and image files used by the app. Add all dependencies in index.html file (and other html files) like jquery, jquery mobile. We&rsquo;re also going to be using font end templating engine <a href="http://handlebarsjs.com/">handlebars.js</a> to parse JSON feed coming from WordPress into HTML page. Don&rsquo;t forget to add jquery mobile css and some sort of reset (in this case normalize.css) into css directory and reference it in html page <head> section, feel free to erase all css/index.css styles and start adding your own styles instead. I laso added default jquery mobile default icons for this project, but usually I prefer to use <a href="http://fortawesome.github.io/Font-Awesome/">font awesome icon font</a>.</p>

<p><img src="http://alexbachuk.com/wp-content/uploads/2013/05/xcode-compile.jpg" alt="xcode-compile" />Every time you make changes in the code you need to see the progress live. We need to view the app either in iOS simulator or in the browser. Actually we need both, simulator shows us how the app looks in real environment and the browser gives us better idea what&rsquo;s going on in HTML, JavaScript and CSS (using chrome developer tools or firebug). I use MAMP PRO to set up host (myapp.dev) and optionally codekit or livereload to listen to any changes and re-render the view in the browser without refresh. To view updates in the simulator - click &ldquo;Run&rdquo; in Xcode to re-compile the app.</p>

<p>Now, let&rsquo;s start adding some content. I think HTML content is very straightforward as well as CSS styles. The most important part of this app is JavaScript. Phonegap comes with index.js file for custom scripts - and that&rsquo;s where we need write all the javascript (if you want - you can create other js files, just need to include them in HTML). This file has some &ldquo;default&rdquo; code, but we can erase it and write our own. Note, that index.html has app.initialize(); out of the box, if you modify app object, make sure to apply these changes here as well. I&rsquo;ll be adding methods to app object that have the same name as html pages to organize the script.</p>

<h2 id="blog">Blog</h2>

<p>We need to pull JSON feed coming from WordPress (url is <a href="http://alexbachuk.com/api/get_recent_posts/">http://alexbachuk.com/api/get_recent_posts/</a>), simple jQuery ajax will do the job.</p>

<p>If we look in the console, we should see object is returned and it contains a lot of information we need, like individual blog posts, comments, images, etc.
<img src="http://alexbachuk.com/wp-content/uploads/2013/05/json-response.jpg" alt="json-response" />
If we want to apply jquery mobile styles to compiled template we need to add .trigger(&lsquo;create&rsquo;) after adding the content (see full code below). Basic idea is we fetch blog posts from specified URL (WordPress API) in JSON format, compile handlebars template and then pass received data to the template. in the html file we can loop through all posts and output data in formatted html like h1, div tags. First step is done. What id we need to click on title and open new page with single article? Simple. That&rsquo;s why we use HTML5. Localstorage is the answer. Simply store clicked blog post and show it in the new page. And we don&rsquo;t need to do another ajax request.</p>

<pre><code>$('#all-posts').on('click','li', function(e){
  localStorage.setItem('postData', JSON.stringify(data.posts[$(this).index()]));
});
</code></pre>

<h2 id="custom-post-types">Custom post types</h2>

<p>Same with any custom post types, just change URL for ajax request. Fot example to get portfolio post type on my site - url would be <a href="http://alexbachuk.com/?json=get_recent_posts&post;_type=portfolio">http://alexbachuk.com/?json=get_recent_posts&post;_type=portfolio</a></p>

<h2 id="summary">Summary</h2>

<p>The only thing that left is exporting app in Xcode and put it on app store. If you have apple developer ID - then follow documentation just like any other app.</p>

<p>At this point we have fully working iOS app and it&rsquo;s ready to be shipped to app store, it definitely needs some polishing. For example design and css, I would also improve javascript code, adding some ajax spinners to show the user that content is loading. As you can see WordPress provides nice way to convert any website to an app. You can also add authorization with JSON, refer to plugin documentation.</p>

<p><a href="https://github.com/abachuk/WordPress-jQuery-mobile-and-Phonegap-app-for-iOS">Full app code is on github</a>, feel free to modify it to your needs. Don&rsquo;t forget to leave comments and let everyone know what you built and what bugs you found.</p>

    </section>


  <footer class="post-footer">


    
    <figure class="author-image">
        <a class="img" href="https://alexbachuk.com" style="background-image: url(/images/ab-logo.svg)"><span class="hidden">Alex Bachuk's Picture</span></a>
    </figure>
    

    

    

    

<div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'alexbachuk';
  var disqus_url = 'https:\/\/alexbachuk.com\/2013\/05\/28\/wordpress-and-phonegap-part3\/';
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>




  </footer>
</article>

</main>


  <aside class="read-next">
  
      <a class="read-next-story" style="no-cover" href="https://alexbachuk.com/2013/06/02/wordpress-celebrated-10-year-anniversary/">
          <section class="post">
              <h2>WordPress celebrated 10 year anniversary</h2>
              
          </section>
      </a>
  
  
      <a class="read-next-story prev" style="no-cover" href="https://alexbachuk.com/2013/05/14/wordpress-and-phonegap-part2/">
          <section class="post">
              <h2>WordPress and Phonegap (part2)</h2>
          </section>
      </a>
  
</aside>



    <footer class="site-footer clearfix">
        <section class="copyright"><a href="">Alex Bachuk</a> All rights reserved &copy; 2007 - 2017</section>
        
    </footer>
    </div>
    <script type="text/javascript" src="https://alexbachuk.com/js/jquery.js"></script>
    <script type="text/javascript" src="https://alexbachuk.com/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://alexbachuk.com/js/particles.js"></script>
    <script type="text/javascript" src="https://alexbachuk.com/js/index.js"></script>
    
</body>
</html>

